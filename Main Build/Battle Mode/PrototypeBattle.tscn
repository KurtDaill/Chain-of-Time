[gd_scene load_steps=16 format=3 uid="uid://bftjxb62srdq"]

[ext_resource type="Script" path="res://Battle Mode/Basic Scripts/Battle.cs" id="1_4rxw7"]
[ext_resource type="Script" path="res://Battle Mode/Basic Scripts/Roster.cs" id="2_1verb"]
[ext_resource type="PackedScene" uid="uid://234suufiqv8c" path="res://Battle Mode/Player Characters/Silver Combatant.tscn" id="3_5nfiw"]
[ext_resource type="Texture2D" uid="uid://bkdgvs1hqa6nu" path="res://GUI/Point-export.png" id="3_w3rfi"]
[ext_resource type="PackedScene" uid="uid://ctkjn6qaseru7" path="res://Battle Mode/BattleGUI.tscn" id="4_noo0e"]
[ext_resource type="PackedScene" uid="uid://ck78k6iju4ldb" path="res://Battle Mode/Player Characters/Cato Combatant.tscn" id="4_xw6bo"]
[ext_resource type="PackedScene" uid="uid://d11587qs5tm6g" path="res://Old/Art/3D/BattleDungeon.dae" id="5_7bshd"]
[ext_resource type="PackedScene" uid="uid://ckh4ejsj04t82" path="res://Battle Mode/Enemies/Skeleton.tscn" id="5_fuc8f"]
[ext_resource type="PackedScene" uid="uid://d23io6jp617dx" path="res://Battle Mode/Player Characters/Lucienne Combatant.tscn" id="5_vfoxv"]
[ext_resource type="PackedScene" uid="uid://bltlucajwd3c5" path="res://Battle Mode/Enemies/SkeletonGuard.tscn" id="6_lu0qn"]
[ext_resource type="PackedScene" uid="uid://qkdx5mb1mcw4" path="res://Battle Mode/Enemies/Ghost Mage.tscn" id="9_e0ar3"]

[sub_resource type="Animation" id="Animation_u18p7"]
resource_name = "Flicker"
length = 3.0
loop_mode = 1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:light_energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(0.7, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 0.9, -0.25, 0, 0.25, 0, 0.8, -0.25, 0, 0.25, 0, 0.8, -0.25, 0, 0.25, 0, 1, -0.25, 0, 0.25, 0, 0.7, -0.25, 0, 0.25, 0, 0.7, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.4, 0.7, 1.1, 1.6, 2.2, 2.6, 3)
}

[sub_resource type="Animation" id="Animation_wi7gm"]
length = 0.001
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:light_energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0.8, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_uj5ot"]
_data = {
"Flicker": SubResource("Animation_u18p7"),
"RESET": SubResource("Animation_wi7gm")
}

[sub_resource type="Environment" id="Environment_51ne1"]
background_mode = 1
ambient_light_source = 2
ambient_light_color = Color(0.380392, 0.376471, 0.431373, 1)
ambient_light_energy = 1.5

[node name="TopNode" type="Node3D"]

[node name="Battle" type="Node3D" parent="." node_paths=PackedStringArray("gui", "battleRoster")]
script = ExtResource("1_4rxw7")
gui = NodePath("Camera3D/BattleGUI")
nextBattlePath = "res://Levels/Combat Playtest One/Victory.tscn"
defeatScreenPath = "res://Levels/Combat Playtest One/Defeat.tscn"
startingScene = true
battleRoster = NodePath("Roster")

[node name="Roster" type="Node3D" parent="Battle" node_paths=PackedStringArray("positionPointer")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2)
script = ExtResource("2_1verb")
positionPointer = NodePath("Pointer")
debugMode = true

[node name="Pointer" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.8, 0, -1)
visible = false

[node name="Sprite3D" type="Sprite3D" parent="Battle/Roster/Pointer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.64, 0)
pixel_size = 0.008
texture = ExtResource("3_w3rfi")

[node name="SpotLight3D" type="SpotLight3D" parent="Battle/Roster/Pointer"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 3.76, 0)
light_color = Color(1, 0.984314, 0.701961, 1)
light_energy = 32.0
spot_angle = 15.0

[node name="HeroBack0" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.52, 0, 0)

[node name="HeroBack1" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8, 0, -1)

[node name="Silver" parent="Battle/Roster/HeroBack1" node_paths=PackedStringArray("readout") instance=ExtResource("3_5nfiw")]
readout = NodePath("../../../Camera3D/BattleGUI/Readouts/Silver Readout")

[node name="HeroBack2" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.48, 0, -2)

[node name="HeroMid0" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.2, 0, 0)

[node name="HeroMid1" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.6, 0, -1)

[node name="Luciene" parent="Battle/Roster/HeroMid1" node_paths=PackedStringArray("readout") instance=ExtResource("5_vfoxv")]
readout = NodePath("../../../Camera3D/BattleGUI/Readouts/Luciene Readout")

[node name="HeroMid2" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.08, 0, -2)

[node name="HeroFront0" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.56, 0, 0)

[node name="HeroFront1" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.8, 0, -1)

[node name="Cato" parent="Battle/Roster/HeroFront1" node_paths=PackedStringArray("readout") instance=ExtResource("4_xw6bo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0270779, 0)
sp = 5
maxSP = 5
readout = NodePath("../../../Camera3D/BattleGUI/Readouts/Cato Readout")

[node name="HeroFront2" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, -2)

[node name="EnemyFront0" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.6, 0, 0)

[node name="SkeletonGuard" parent="Battle/Roster/EnemyFront0" instance=ExtResource("6_lu0qn")]

[node name="EnemyFront1" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.8, 0, -1)

[node name="SkeletonGuard" parent="Battle/Roster/EnemyFront1" instance=ExtResource("6_lu0qn")]

[node name="EnemyFront2" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, -2)

[node name="EnemyMid0" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.2, 0, 0)

[node name="Skeleton" parent="Battle/Roster/EnemyMid0" instance=ExtResource("5_fuc8f")]

[node name="EnemyMid1" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.1, 0, -1)

[node name="Ghost Mage" parent="Battle/Roster/EnemyMid1" instance=ExtResource("9_e0ar3")]

[node name="EnemyMid2" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 0, -2)

[node name="EnemyBack0" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.52, 0, 0)

[node name="EnemyBack1" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, -3)

[node name="EnemyBack2" type="Node3D" parent="Battle/Roster"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.48, 0, -2)

[node name="Camera3D" type="Camera3D" parent="Battle"]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, -1.53, 5, 12)
fov = 60.0

[node name="BattleGUI" parent="Battle/Camera3D" instance=ExtResource("4_noo0e")]

[node name="Turnover Timer" type="Timer" parent="Battle"]
wait_time = 0.4

[node name="Between Actions Timer" type="Timer" parent="Battle"]
wait_time = 0.2

[node name="BattleDungeon" parent="." instance=ExtResource("5_7bshd")]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)

[node name="OmniLight3D" type="OmniLight3D" parent="BattleDungeon"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.24, 1.74, -0.86)
light_color = Color(1, 0.729412, 0.231373, 1)
light_energy = 0.8
light_size = 0.146
shadow_enabled = true
omni_range = 7.0
omni_attenuation = 0.732043

[node name="AnimationPlayer" type="AnimationPlayer" parent="BattleDungeon/OmniLight3D"]
autoplay = "Flicker"
libraries = {
"": SubResource("AnimationLibrary_uj5ot")
}

[node name="OmniLight3D6" type="OmniLight3D" parent="BattleDungeon"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.76, 1.74, -0.86)
light_color = Color(1, 0.729412, 0.231373, 1)
light_energy = 0.8
light_size = 0.146
shadow_enabled = true
omni_range = 7.0
omni_attenuation = 0.732043

[node name="AnimationPlayer" type="AnimationPlayer" parent="BattleDungeon/OmniLight3D6"]
autoplay = "Flicker"
libraries = {
"": SubResource("AnimationLibrary_uj5ot")
}

[node name="OmniLight3D3" type="OmniLight3D" parent="BattleDungeon"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.26, 1.74, -0.86)
light_color = Color(1, 0.729412, 0.231373, 1)
light_energy = 0.8
light_size = 0.146
shadow_enabled = true
omni_range = 7.0
omni_attenuation = 0.732043

[node name="AnimationPlayer" type="AnimationPlayer" parent="BattleDungeon/OmniLight3D3"]
autoplay = "Flicker"
libraries = {
"": SubResource("AnimationLibrary_uj5ot")
}

[node name="OmniLight3D2" type="OmniLight3D" parent="BattleDungeon"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.78, 1.74, -0.86)
light_color = Color(1, 0.729412, 0.231373, 1)
light_energy = 0.8
light_size = 0.146
shadow_enabled = true
omni_range = 7.0
omni_attenuation = 0.732043

[node name="AnimationPlayer" type="AnimationPlayer" parent="BattleDungeon/OmniLight3D2"]
autoplay = "Flicker"
libraries = {
"": SubResource("AnimationLibrary_uj5ot")
}

[node name="OmniLight3D4" type="OmniLight3D" parent="BattleDungeon"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.24, 1.74, -0.86)
light_color = Color(1, 0.729412, 0.231373, 1)
light_energy = 0.8
light_size = 0.146
shadow_enabled = true
omni_range = 7.0
omni_attenuation = 0.732043

[node name="AnimationPlayer" type="AnimationPlayer" parent="BattleDungeon/OmniLight3D4"]
autoplay = "Flicker"
libraries = {
"": SubResource("AnimationLibrary_uj5ot")
}

[node name="OmniLight3D5" type="OmniLight3D" parent="BattleDungeon"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.24, 1.74, -0.86)
light_color = Color(1, 0.729412, 0.231373, 1)
light_energy = 0.8
light_size = 0.146
shadow_enabled = true
omni_range = 7.0
omni_attenuation = 0.732043

[node name="AnimationPlayer" type="AnimationPlayer" parent="BattleDungeon/OmniLight3D5"]
autoplay = "Flicker"
libraries = {
"": SubResource("AnimationLibrary_uj5ot")
}

[node name="SpotLight3D" type="SpotLight3D" parent="BattleDungeon"]
transform = Transform3D(0.965926, 0.183013, 0.183013, -6.18172e-08, -0.707107, 0.707107, 0.258819, -0.683013, -0.683013, 0, 3.64, -2.16)
light_energy = 8.564
shadow_enabled = true
spot_range = 12.88
spot_attenuation = 0.00328474
spot_angle = 20.4822

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_51ne1")

[editable path="Battle/Camera3D/BattleGUI"]
[editable path="Battle/Camera3D/BattleGUI/Skill Menu/Card Rack/Card 1"]
