[gd_scene load_steps=27 format=3 uid="uid://cp6f2j6j0vnoj"]

[ext_resource type="Script" path="res://Battle Mode/PMPlayerAbility.cs" id="1_3by6d"]
[ext_resource type="Script" path="res://Battle Mode/AbilityEventStatusEffect.cs" id="2_ub8n4"]
[ext_resource type="Texture2D" uid="uid://dii1wqi7vjvxk" path="res://Art/Silver Flash Bomb-Sheet.png" id="3_7ich7"]
[ext_resource type="Texture2D" uid="uid://nm8lnima5n7b" path="res://Art/Stun Particle.png" id="4_8lywv"]

[sub_resource type="Animation" id="Animation_y8g8a"]
resource_name = "RESET"
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Da Bomb:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-1.68, 1.32, -0.08)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Da Bomb:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Dummy Bomb:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Dummy Bomb:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-1.64, 1.28, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Da Bomb:animation")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"hidden"]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Da Bomb/OmniLight3D:light_energy")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [20.0]
}

[sub_resource type="Animation" id="Animation_ggq3f"]
resource_name = "Throw"
length = 2.0
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.5, 2),
"transitions": PackedFloat32Array(1, 1, 1),
"values": [{
"args": [2, 3, 4, 1, "Throw"],
"method": &"SetKeyTransToSelectedTargetBezier"
}, {
"args": [0],
"method": &"ExecuteEvent"
}, {
"args": [],
"method": &"FinishSequence"
}]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("..:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [72, 73, 74, 75, 76, 77, 78, 79]
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Da Bomb:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(0.92, -0.25, 0, 0.2, 2.69092, 7.52, -0.3, -1.02896, 0.25, 0),
"times": PackedFloat32Array(0.7, 1.4)
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Da Bomb:position:y")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(2.2, -0.25, 0, 0.4, 3.29386, 1.28, -0.1, 1.57501, 0.25, 0),
"times": PackedFloat32Array(0.7, 1.4)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Da Bomb:position:z")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0, 0),
"points": PackedFloat32Array(-0.08, -0.25, 0, 0.25, 0, -0.08, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0.7, 1.4)
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Da Bomb:playing")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 0.8, 1.4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [false, true, true]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Dummy Bomb:visible")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 0.8),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Dummy Bomb:position")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [Vector3(-1.64, 1.28, 0), Vector3(0.92, 2.24, 0)]
}
tracks/8/type = "rotation_3d"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("Da Bomb")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = PackedFloat32Array(0.8, 1, 0, 0, 0.258819, 0.965926, 1.1, 1, 0, 0, -0.5, 0.866025, 1.4, 1, 0, 0, 0.866025, -0.5)
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("Da Bomb/GPUParticles3D:emitting")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(1.4),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/10/type = "value"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath("Da Bomb/OmniLight3D:light_energy")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(1.4, 1.5, 1.6, 1.7),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [20.0, 75.0, 10.0, 0.0]
}
tracks/11/type = "value"
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/path = NodePath("Da Bomb/OmniLight3D:visible")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/keys = {
"times": PackedFloat32Array(0, 1.4),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/12/type = "value"
tracks/12/imported = false
tracks/12/enabled = true
tracks/12/path = NodePath("Da Bomb:animation")
tracks/12/interp = 1
tracks/12/loop_wrap = true
tracks/12/keys = {
"times": PackedFloat32Array(0, 0.6, 0.8, 1.4),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": ["hidden", "hidden", "default", "hidden"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_d6u2w"]
_data = {
"RESET": SubResource("Animation_y8g8a"),
"Throw": SubResource("Animation_ggq3f")
}

[sub_resource type="AtlasTexture" id="AtlasTexture_kb6ua"]
atlas = ExtResource("3_7ich7")
region = Rect2(0, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_2mxpc"]
atlas = ExtResource("3_7ich7")
region = Rect2(30, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_44qu8"]
atlas = ExtResource("3_7ich7")
region = Rect2(60, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_4otsb"]
atlas = ExtResource("3_7ich7")
region = Rect2(90, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_si4tq"]
atlas = ExtResource("3_7ich7")
region = Rect2(120, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_6jcva"]
atlas = ExtResource("3_7ich7")
region = Rect2(150, 0, 30, 45)

[sub_resource type="SpriteFrames" id="SpriteFrames_duc10"]
animations = [{
"frames": [SubResource("AtlasTexture_kb6ua"), SubResource("AtlasTexture_2mxpc"), SubResource("AtlasTexture_44qu8"), SubResource("AtlasTexture_4otsb"), SubResource("AtlasTexture_si4tq"), SubResource("AtlasTexture_6jcva")],
"loop": true,
"name": &"default",
"speed": 12.0
}, {
"frames": [],
"loop": true,
"name": &"hidden",
"speed": 5.0
}]

[sub_resource type="Gradient" id="Gradient_vqece"]
offsets = PackedFloat32Array(0, 0.780488, 1)
colors = PackedColorArray(1, 1, 1, 0.98374, 0.980392, 0.980392, 0.980392, 1, 0.964706, 0.964706, 0.964706, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_3p6ux"]
gradient = SubResource("Gradient_vqece")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_k1fc3"]
emission_shape = 1
emission_sphere_radius = 0.6
direction = Vector3(-0.5, 1, 0)
spread = 90.0
gravity = Vector3(0, 0, 0)
initial_velocity_min = 15.0
initial_velocity_max = 18.0
damping_min = 3.0
damping_max = 4.0
color_ramp = SubResource("GradientTexture1D_3p6ux")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ar20c"]
transparency = 1
shading_mode = 0
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("4_8lywv")
texture_filter = 2

[sub_resource type="QuadMesh" id="QuadMesh_k0ruq"]
material = SubResource("StandardMaterial3D_ar20c")
size = Vector2(0.12, 0.12)

[sub_resource type="AtlasTexture" id="AtlasTexture_may2j"]
atlas = ExtResource("3_7ich7")
region = Rect2(0, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_gw36h"]
atlas = ExtResource("3_7ich7")
region = Rect2(30, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_7hrwh"]
atlas = ExtResource("3_7ich7")
region = Rect2(60, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_dxnhb"]
atlas = ExtResource("3_7ich7")
region = Rect2(90, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_f0c2o"]
atlas = ExtResource("3_7ich7")
region = Rect2(120, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_uxpdc"]
atlas = ExtResource("3_7ich7")
region = Rect2(150, 0, 30, 45)

[sub_resource type="SpriteFrames" id="SpriteFrames_8amq1"]
animations = [{
"frames": [SubResource("AtlasTexture_may2j"), SubResource("AtlasTexture_gw36h"), SubResource("AtlasTexture_7hrwh"), SubResource("AtlasTexture_dxnhb"), SubResource("AtlasTexture_f0c2o"), SubResource("AtlasTexture_uxpdc")],
"loop": true,
"name": &"default",
"speed": 12.0
}]

[node name="Flash Bomb" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.56, 0)
script = ExtResource("1_3by6d")
rulesText = "[center][Reach]
[color=yellow]Stuns[/color] an Enemy for 2 Turns"
abilityType = "Tech"
spCost = 2
name = "Flash Bomb"
firstAnimation = "Throw"
eventIndex = [NodePath("Stun")]
targetingRule = 2
alignment = 2
usesEmpowered = false
consumesOvercharged = false

[node name="Stun" type="Node" parent="."]
script = ExtResource("2_ub8n4")
coreStatusEffect = "res://Battle Mode/Status Effects/Status Effect - Stun.tscn"
setCustomDuration = 1
alignment = 2
targeting = 1
eventType = 2
defenseFactor = -1
eventValue = -1

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_d6u2w")
}

[node name="Da Bomb" type="AnimatedSprite3D" parent="."]
transform = Transform3D(-0.499999, 0.866025, 0, -0.866025, -0.499999, 0, 0, 0, 1, -1.68, 1.32, -0.08)
frames = SubResource("SpriteFrames_duc10")
animation = &"hidden"
playing = true

[node name="GPUParticles3D" type="GPUParticles3D" parent="Da Bomb"]
transform = Transform3D(-0.5, -0.866026, 0, 0.866026, -0.5, 0, 0, 0, 1, 0, 0, 0.08)
emitting = false
amount = 64
lifetime = 0.3
one_shot = true
explosiveness = 1.0
process_material = SubResource("ParticleProcessMaterial_k1fc3")
draw_pass_1 = SubResource("QuadMesh_k0ruq")

[node name="OmniLight3D" type="OmniLight3D" parent="Da Bomb"]
transform = Transform3D(-0.5, -0.866026, 0, 0.866026, -0.5, 0, 0, 0, 1, 0, 0, 0.08)
light_energy = 20.0
omni_range = 4.0
omni_attenuation = 1.8025

[node name="Dummy Bomb" type="AnimatedSprite3D" parent="."]
transform = Transform3D(0.866025, -0.5, 0, 0.5, 0.866025, 0, 0, 0, 1, -1.64, 1.28, 0)
visible = false
frames = SubResource("SpriteFrames_8amq1")
playing = true
