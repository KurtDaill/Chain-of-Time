[gd_scene load_steps=25 format=3 uid="uid://hspnetrnxt5i"]

[ext_resource type="Script" path="res://Battle Mode/PMEnemyCharacter.cs" id="1_tukar"]
[ext_resource type="Texture2D" uid="uid://cfl5fyjbm1sf2" path="res://Art/Death Knight Combat Animations-Sheet.png" id="1_w5ot8"]
[ext_resource type="PackedScene" uid="uid://drrypbsjxq7n1" path="res://Battle Mode/Pointer.tscn" id="2_b42yp"]
[ext_resource type="Script" path="res://Battle Mode/PMEnemyAbility.cs" id="3_swi24"]
[ext_resource type="Script" path="res://Battle Mode/AbilityEvent.cs" id="4_1cpce"]
[ext_resource type="PackedScene" uid="uid://2684ifjixqps" path="res://Battle Mode/GenericNoActAbility.tscn" id="6_j6ylt"]
[ext_resource type="PackedScene" uid="uid://bhh44xrbceu6a" path="res://Battle Mode/GUI/enemy_nameplate.tscn" id="7_itt66"]

[sub_resource type="Animation" id="Animation_2tm56"]
resource_name = "Point"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [2.24, 2.16]
}

[sub_resource type="Animation" id="Animation_nmsj8"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position:y")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [2.24]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3ibgy"]
_data = {
"Point": SubResource("Animation_2tm56"),
"RESET": SubResource("Animation_nmsj8")
}

[sub_resource type="Animation" id="124"]
resource_name = "Heft"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("..:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [1, 3]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("..")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"StopAnimation"
}]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.1, 0.5),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"ChargeUp"
}, {
"args": [],
"method": &"FinishSequence"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_l1jvp"]
_data = {
"Heft": SubResource("124")
}

[sub_resource type="Animation" id="Animation_nxeui"]
length = 0.001

[sub_resource type="Animation" id="Animation_snrqj"]
resource_name = "Swing"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("..:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 0.8, 0.9),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [3, 4, 2, 1]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("..")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"StopAnimation"
}]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.5, 0.79373, 0.8, 0.9, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"values": [{
"args": [],
"method": &"StartAttackRun"
}, {
"args": [],
"method": &"PlayerDefenseReactionOnline"
}, {
"args": [],
"method": &"DisablePlayerDefense"
}, {
"args": [0],
"method": &"ExecuteEvent"
}, {
"args": [],
"method": &"ExpendCharge"
}, {
"args": [],
"method": &"FinishSequence"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_wx6dv"]
_data = {
"RESET": SubResource("Animation_nxeui"),
"Swing": SubResource("Animation_snrqj")
}

[sub_resource type="Animation" id="126"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("..:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 2.56, 0)]
}

[sub_resource type="Animation" id="127"]
resource_name = "Swing"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("..:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3, 0.9, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [1, 3, 2, 1]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("..")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"StopAnimation"
}]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.6, 0.889655, 0.9, 1, 1.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"values": [{
"args": [],
"method": &"StartAttackRun"
}, {
"args": [],
"method": &"PlayerDefenseReactionOnline"
}, {
"args": [],
"method": &"DisablePlayerDefense"
}, {
"args": [0],
"method": &"ExecuteEvent"
}, {
"args": [],
"method": &"ExpendCharge"
}, {
"args": [],
"method": &"FinishSequence"
}]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("..:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.6, 0.9, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(2.28, 2.56, 0), Vector3(2.28, 2.56, 0), Vector3(2.52, 2.56, 0), Vector3(2.28, 2.56, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_alirn"]
_data = {
"RESET": SubResource("126"),
"Swing": SubResource("127")
}

[sub_resource type="Animation" id="130"]
resource_name = "ChargedIdle"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.5),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [3]
}

[sub_resource type="Animation" id="131"]
resource_name = "Defeat"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(0, 0, 0, 0.537255)]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.5),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"FinishDefeat"
}]
}

[sub_resource type="Animation" id="128"]
resource_name = "HitReact"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.3, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [Vector3(2.28, 2.56, 0), Vector3(2.36, 2.56, 0), Vector3(2.32, 2.56, 0), Vector3(2.28, 2.56, 0)]
}

[sub_resource type="Animation" id="125"]
resource_name = "Idle"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.5),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1]
}

[sub_resource type="Animation" id="129"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(2.28, 2.56, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_uwfqj"]
_data = {
"ChargedIdle": SubResource("130"),
"Defeat": SubResource("131"),
"HitReact": SubResource("128"),
"Idle": SubResource("125"),
"RESET": SubResource("129")
}

[node name="Ser Sejanus Alpha" type="Sprite3D" node_paths=PackedStringArray("namePlate", "noAct", "head", "core", "weapon", "feet")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.28, 2.56, 0)
pixel_size = 0.008
shaded = true
texture = ExtResource("1_w5ot8")
hframes = 8
frame = 1
script = ExtResource("1_tukar")
abilitiesByPriority = [NodePath("Great Cleave"), NodePath("Heft Sword"), NodePath("Attack")]
combatRoles = [6]
namePlate = NodePath("Enemy Nameplate")
maxHP = 20
ModifiedDamageTypes = [1]
Modifier = [2.0]
name = "Helmed Horror"
noAct = NodePath("NoAct Ability")
HealingNumberResource = "res://Battle Mode/Healing Number.tscn"
DamageNumberResource = "res://Battle Mode/Damage Number.tscn"
head = NodePath("Body Ref/Head")
core = NodePath("Body Ref/Core")
weapon = NodePath("Body Ref/Weapon")
feet = NodePath("Body Ref/Feet")

[node name="Pointer" parent="." instance=ExtResource("2_b42yp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.23, 2.24, 0)

[node name="AnimationPlayer" parent="Pointer" index="0"]
libraries = {
"": SubResource("AnimationLibrary_3ibgy")
}

[node name="Heft Sword" type="Node" parent="."]
script = ExtResource("3_swi24")
requirements = [9]
name = "Heft Sword"
firstAnimation = "Heft"
eventIndex = []
usesEmpowered = false
consumesOvercharged = false

[node name="AnimationPlayer" type="AnimationPlayer" parent="Heft Sword"]
libraries = {
"": SubResource("AnimationLibrary_l1jvp")
}

[node name="Event" type="Node" parent="Heft Sword"]
script = ExtResource("4_1cpce")

[node name="Great Cleave" type="Node" parent="."]
script = ExtResource("3_swi24")
requirements = [11]
name = "Great Cleave"
firstAnimation = "Swing"
eventIndex = [NodePath("Damage Event")]
targetingRule = 1

[node name="Damage Event" type="Node" parent="Great Cleave"]
script = ExtResource("4_1cpce")
targeting = 1
affectedByPlayerDefense = true
defenseFactor = 2
eventValue = 6

[node name="AnimationPlayer" type="AnimationPlayer" parent="Great Cleave"]
libraries = {
"": SubResource("AnimationLibrary_wx6dv")
}

[node name="Attack" type="Node" parent="."]
script = ExtResource("3_swi24")
name = "Great Cleave"
firstAnimation = "Swing"
eventIndex = [NodePath("Damage Event")]
targetingRule = 1

[node name="Damage Event" type="Node" parent="Attack"]
unique_name_in_owner = true
script = ExtResource("4_1cpce")
targeting = 1
affectedByPlayerDefense = true
defenseFactor = 1
eventValue = 2

[node name="AnimationPlayer" type="AnimationPlayer" parent="Attack"]
libraries = {
"": SubResource("AnimationLibrary_alirn")
}

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
autoplay = "Idle"
libraries = {
"": SubResource("AnimationLibrary_uwfqj")
}

[node name="AimPoint" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.24, -1.32, 0.2)

[node name="NoAct Ability" parent="." instance=ExtResource("6_j6ylt")]

[node name="Enemy Nameplate" parent="." instance=ExtResource("7_itt66")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.23, 3.36, 0)

[node name="Name" parent="Enemy Nameplate" index="2"]
text = "Death Knight
"

[node name="Body Ref" type="Node3D" parent="."]
editor_description = "A Collection of Spatial Nodes intended to tell other nodes and functions where to spawn particle effects or other nodes on a characters head, core, feet, etc."

[node name="Head" type="Node3D" parent="Body Ref"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.28, -0.526218, 0)

[node name="Core" type="Node3D" parent="Body Ref"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.16, -1.24, 0)

[node name="Weapon" type="Node3D" parent="Body Ref"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.76, -2.12, 0)

[node name="Feet" type="Node3D" parent="Body Ref"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.16, -2.56, 0)

[editable path="Pointer"]
[editable path="Enemy Nameplate"]
