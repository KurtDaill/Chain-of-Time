[gd_scene load_steps=60 format=2]

[ext_resource path="res://Art/Cato Master Sprite Sheet.png" type="Texture" id=1]
[ext_resource path="res://Art/Test Sprite.png" type="Texture" id=2]
[ext_resource path="res://Art/3D Scene Test 2D-Sheet.png" type="Texture" id=3]
[ext_resource path="res://Art/Test Floor Texture.png" type="Texture" id=4]
[ext_resource path="res://Battle Mode/Combatants/Player Characters/Cato/CatoCombatant.cs" type="Script" id=5]

[sub_resource type="AnimationNodeAnimation" id=1]
animation = "Airborne Down"

[sub_resource type="AnimationNodeAnimation" id=2]
animation = "Airborne Transition"

[sub_resource type="AnimationNodeAnimation" id=3]
animation = "Airborne Up"

[sub_resource type="AnimationNodeAnimation" id=4]
animation = "Attack 1"

[sub_resource type="AnimationNodeAnimation" id=5]
animation = "Attack 2"

[sub_resource type="AnimationNodeAnimation" id=6]
animation = "Idle"

[sub_resource type="AnimationNodeAnimation" id=7]
animation = "Jump"

[sub_resource type="AnimationNodeAnimation" id=8]
animation = "Landing to Run"

[sub_resource type="AnimationNodeAnimation" id=9]
animation = "Landing"

[sub_resource type="AnimationNodeAnimation" id=10]
animation = "Run L"

[sub_resource type="AnimationNodeAnimation" id=11]
animation = "Run"

[sub_resource type="AnimationNodeBlendSpace1D" id=12]
blend_point_0/node = SubResource( 10 )
blend_point_0/pos = -0.01
blend_point_1/node = SubResource( 11 )
blend_point_1/pos = 0.01
snap = 0.01
value_label = "runDir"

[sub_resource type="AnimationNodeBlendTree" id=13]
nodes/direction/node = SubResource( 12 )
nodes/direction/position = Vector2( 360, 100 )
nodes/output/position = Vector2( 640, 100 )
node_connections = [ "output", 0, "direction" ]

[sub_resource type="AnimationNodeAnimation" id=14]
animation = "Slide "

[sub_resource type="AnimationNodeAnimation" id=15]
animation = "Slide End"

[sub_resource type="AnimationNodeAnimation" id=16]
animation = "Slide Start"

[sub_resource type="AnimationNodeStateMachineTransition" id=17]

[sub_resource type="AnimationNodeStateMachineTransition" id=18]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=19]
advance_condition = "isFalling"

[sub_resource type="AnimationNodeStateMachineTransition" id=20]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=21]

[sub_resource type="AnimationNodeStateMachineTransition" id=22]

[sub_resource type="AnimationNodeStateMachineTransition" id=23]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=24]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=25]
advance_condition = "isMoving"

[sub_resource type="AnimationNodeStateMachineTransition" id=26]
advance_condition = "isNotMoving"

[sub_resource type="AnimationNodeStateMachineTransition" id=27]

[sub_resource type="AnimationNodeStateMachineTransition" id=28]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=29]

[sub_resource type="AnimationNodeStateMachineTransition" id=30]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=31]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id=32]
advance_condition = "isOnGround"

[sub_resource type="AnimationNodeStateMachineTransition" id=33]
switch_mode = 2
advance_condition = "isNotMoving"

[sub_resource type="AnimationNodeStateMachineTransition" id=34]
advance_condition = "isMoving"

[sub_resource type="AnimationNodeStateMachineTransition" id=35]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=54]
advance_condition = "isOnGround"

[sub_resource type="AnimationNodeStateMachine" id=36]
"states/Airborne Down/node" = SubResource( 1 )
"states/Airborne Down/position" = Vector2( 351, 81 )
"states/Airborne Transition/node" = SubResource( 2 )
"states/Airborne Transition/position" = Vector2( 163, -8 )
"states/Airborne Up/node" = SubResource( 3 )
"states/Airborne Up/position" = Vector2( 521, -8 )
"states/Attack 1/node" = SubResource( 4 )
"states/Attack 1/position" = Vector2( 521, 184 )
"states/Attack 2/node" = SubResource( 5 )
"states/Attack 2/position" = Vector2( 521, 270 )
states/Idle/node = SubResource( 6 )
states/Idle/position = Vector2( 351, 184 )
states/Jump/node = SubResource( 7 )
states/Jump/position = Vector2( 521, 81 )
states/Landing/node = SubResource( 9 )
states/Landing/position = Vector2( 163, 178 )
"states/Landing to Run/node" = SubResource( 8 )
"states/Landing to Run/position" = Vector2( 163, 370 )
states/Run/node = SubResource( 13 )
states/Run/position = Vector2( 351, 370 )
"states/Slide /node" = SubResource( 14 )
"states/Slide /position" = Vector2( -34, 184 )
"states/Slide End/node" = SubResource( 15 )
"states/Slide End/position" = Vector2( -34, 270 )
"states/Start Slide/node" = SubResource( 16 )
"states/Start Slide/position" = Vector2( -34, 81 )
transitions = [ "Idle", "Jump", SubResource( 17 ), "Jump", "Airborne Up", SubResource( 18 ), "Airborne Up", "Airborne Transition", SubResource( 19 ), "Airborne Transition", "Airborne Down", SubResource( 20 ), "Idle", "Attack 1", SubResource( 21 ), "Attack 1", "Attack 2", SubResource( 22 ), "Attack 2", "Idle", SubResource( 23 ), "Attack 1", "Idle", SubResource( 24 ), "Idle", "Run", SubResource( 25 ), "Run", "Idle", SubResource( 26 ), "Idle", "Start Slide", SubResource( 27 ), "Start Slide", "Slide ", SubResource( 28 ), "Slide ", "Slide End", SubResource( 29 ), "Slide End", "Idle", SubResource( 30 ), "Slide End", "Run", SubResource( 31 ), "Airborne Down", "Landing", SubResource( 32 ), "Landing", "Idle", SubResource( 33 ), "Landing", "Landing to Run", SubResource( 34 ), "Landing to Run", "Run", SubResource( 35 ), "Airborne Transition", "Landing", SubResource( 54 ) ]
start_node = "Idle"
graph_offset = Vector2( -116, -82.414 )

[sub_resource type="AnimationNodeStateMachinePlayback" id=37]

[sub_resource type="Animation" id=38]
length = 0.25
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.25 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 43, 45 ]
}

[sub_resource type="Animation" id=39]
length = 0.3
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 41, 44 ]
}

[sub_resource type="Animation" id=40]
length = 0.25
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 0
tracks/0/loop_wrap = false
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.12 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 40, 41 ]
}

[sub_resource type="Animation" id=41]
length = 0.75
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.7 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 48, 60 ]
}

[sub_resource type="Animation" id=42]
length = 1.25
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1.2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 61, 76 ]
}

[sub_resource type="Animation" id=43]
length = 2.5
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 2.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 0, 23 ]
}

[sub_resource type="Animation" id=44]
length = 0.15
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 38, 40 ]
}

[sub_resource type="Animation" id=45]
length = 0.3
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 45, 47 ]
}

[sub_resource type="Animation" id=46]
length = 0.3
step = 0.05
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.25 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 101, 104 ]
}

[sub_resource type="Animation" id=47]
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 77, 89 ]
}

[sub_resource type="Animation" id=48]
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 89, 101 ]
}

[sub_resource type="Animation" id=49]
length = 0.25
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.25 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 30, 32 ]
}

[sub_resource type="Animation" id=50]
length = 0.5
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 32, 36 ]
}

[sub_resource type="Animation" id=51]
length = 0.4
tracks/0/type = "value"
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ 27, 30 ]
}

[sub_resource type="BoxShape" id=52]
extents = Vector3( 0.950607, 1.93119, 10 )

[sub_resource type="BoxShape" id=53]
extents = Vector3( 60.0744, 0.01, 20.0626 )

[node name="Spatial" type="Spatial"]

[node name="KinematicBody" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.03639, -6.059 )
script = ExtResource( 5 )
gravity = 4.0
jumpForce = 65.0
runSpeed = 20.0
dashBoost = 80.0
footDrag = 1.25
dashDrag = 4.0

[node name="AnimationTree" type="AnimationTree" parent="KinematicBody"]
tree_root = SubResource( 36 )
anim_player = NodePath("../Sprite3D/AnimationPlayer")
active = true
parameters/playback = SubResource( 37 )
parameters/conditions/isFalling = false
parameters/conditions/isMoving = false
parameters/conditions/isNotMoving = false
parameters/conditions/isOnGround = false
parameters/Run/direction/blend_position = 0.0

[node name="Sprite3D" type="Sprite3D" parent="KinematicBody"]
pixel_size = 0.1
shaded = true
alpha_cut = 2
texture = ExtResource( 1 )
hframes = 12
vframes = 9
frame = 11

[node name="AnimationPlayer" type="AnimationPlayer" parent="KinematicBody/Sprite3D"]
"anims/Airborne Down" = SubResource( 38 )
"anims/Airborne Transition" = SubResource( 39 )
"anims/Airborne Up" = SubResource( 40 )
"anims/Attack 1" = SubResource( 41 )
"anims/Attack 2" = SubResource( 42 )
anims/Idle = SubResource( 43 )
anims/Jump = SubResource( 44 )
anims/Landing = SubResource( 45 )
"anims/Landing to Run" = SubResource( 46 )
anims/Run = SubResource( 47 )
"anims/Run L" = SubResource( 48 )
"anims/Slide " = SubResource( 49 )
"anims/Slide End" = SubResource( 50 )
"anims/Slide Start" = SubResource( 51 )

[node name="Phys Box" type="CollisionShape" parent="KinematicBody"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.51142, -2.07188, 0 )
shape = SubResource( 52 )

[node name="Object" type="Sprite3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.29177, 3.2541, -8.29577 )
pixel_size = 0.1
shaded = true
alpha_cut = 2
texture = ExtResource( 2 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 6.20375, 5.0052, 17.2129 )
current = true
fov = 60.0
size = 1.78016
far = 100000.0

[node name="CSGCylinder" type="CSGCylinder" parent="."]
transform = Transform( 4, 0, 0, 0, 10, 0, 0, 0, 4, -11.7264, 5.35481, -7.10791 )
visible = false

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.337152, 0.876099, -0.344643, -0.593796, 0.481967, 0.644294, 0.730572, -0.0125772, 0.68272, -3.17392, 9.69981, 9.032 )
light_color = Color( 0.980392, 0.972549, 0.898039, 1 )
light_indirect_energy = 0.0
light_specular = 1.0
shadow_enabled = true
shadow_bias = 0.07
shadow_contact = 0.81
directional_shadow_mode = 0
directional_shadow_split_1 = 1.0
directional_shadow_split_2 = 1.0
directional_shadow_split_3 = 1.0
directional_shadow_depth_range = 1

[node name="Railing" type="Sprite3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0417786, 0.931306, 0.0663359 )
pixel_size = 0.1
shaded = true
alpha_cut = 2
texture = ExtResource( 3 )

[node name="Railing2" type="Sprite3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.939115, -14.2183 )
pixel_size = 0.1
shaded = true
alpha_cut = 2
texture = ExtResource( 3 )

[node name="Sprite3D2" type="Sprite3D" parent="."]
transform = Transform( -1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, 0, 0.0298417, 0 )
pixel_size = 0.1
axis = 1
transparent = false
shaded = true
texture = ExtResource( 4 )

[node name="Sprite3D4" type="Sprite3D" parent="."]
transform = Transform( -1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, -39.9944, 0.0298417, 0 )
pixel_size = 0.1
axis = 1
transparent = false
shaded = true
texture = ExtResource( 4 )

[node name="Sprite3D3" type="Sprite3D" parent="."]
transform = Transform( -1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0, 1, 39.945, 0, 0 )
pixel_size = 0.1
axis = 1
transparent = false
shaded = true
alpha_cut = 2
texture = ExtResource( 4 )

[node name="StaticBody" type="StaticBody" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="StaticBody"]
shape = SubResource( 53 )

[node name="OmniLight" type="OmniLight" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.26101, 1.95351, -4.94098 )
visible = false
light_color = Color( 0.917647, 0.568627, 0.376471, 1 )
light_energy = 5.95
light_indirect_energy = 3.57
shadow_enabled = true
shadow_contact = 0.22
shadow_reverse_cull_face = true
omni_range = 11.4
